(function(){var e={6376:function(e,t,n){"use strict";n.r(t);var o=n(2512),r=n.n(o),s=n(1736),i=n.n(s),a=new(r())({id:"icon-PencilSquare",use:"icon-PencilSquare-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" id="icon-PencilSquare">\n  <path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />\n</symbol>'});i().add(a);t["default"]=a},8652:function(e,t,n){"use strict";n.r(t);var o=n(2512),r=n.n(o),s=n(1736),i=n.n(s),a=new(r())({id:"icon-PlusSmall",use:"icon-PlusSmall-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" id="icon-PlusSmall">\n  <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m6-6H6" />\n</symbol>'});i().add(a);t["default"]=a},2412:function(e,t,n){"use strict";n.r(t);var o=n(2512),r=n.n(o),s=n(1736),i=n.n(s),a=new(r())({id:"icon-Trash",use:"icon-Trash-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" id="icon-Trash">\n  <path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0" />\n</symbol>'});i().add(a);t["default"]=a},2836:function(e,t,n){"use strict";var o=n(9242),r=n(3396);function s(e,t,n,o,s,i){const a=(0,r.up)("HomeView");return(0,r.wg)(),(0,r.j4)(a)}var i=n(6520);const a={id:"main"};function c(e,t,n,s,i,c){const l=(0,r.up)("SearchBox"),u=(0,r.up)("FavoriteBox");return(0,r.wg)(),(0,r.iD)("div",a,[(0,r._)("div",{id:"logo",onClick:t[0]||(t[0]=(...t)=>e.toggleFavrotite&&e.toggleFavrotite(...t))}),(0,r.Wm)(l),(0,r.wy)((0,r.Wm)(u,{onToggleVisbility:e.toggleFavrotite},null,8,["onToggleVisbility"]),[[o.F8,e.showFavorite]])])}var l=n(7327);const u=e=>((0,r.dD)("data-v-04ac26ad"),e=e(),(0,r.Cn)(),e),d={id:"input"},g=u((()=>(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"},null,-1))),f=[g];function h(e,t,n,s,i,a){const c=(0,r.up)("SuggestBox");return(0,r.wg)(),(0,r.iD)("div",d,[(0,r._)("div",null,[(0,r._)("input",{id:"search-input",type:"search",onKeydown:t[0]||(t[0]=(...t)=>e.submitSearch&&e.submitSearch(...t)),onInput:t[1]||(t[1]=(...t)=>e.getSuggests&&e.getSuggests(...t))},null,32),((0,r.wg)(),(0,r.iD)("svg",{onClick:t[2]||(t[2]=(...t)=>e.directSearch&&e.directSearch(...t)),fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},f))]),(0,r.wy)((0,r.Wm)(c,{suggests:e.suggests,selected:e.selected},null,8,["suggests","selected"]),[[o.F8,e.focused]])])}n(7658);var v=n(7139);const p={ref:"suggestDOM"},m={key:0};function b(e,t,n,o,s,i){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("ul",p,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.suggests,((t,n)=>((0,r.wg)(),(0,r.iD)("li",{class:(0,v.C_)(["suggest-item",{"selected-item":e.adjustSelected(n)}]),ref_for:!0,ref:`${n}`,key:`item-${n}`},(0,v.zw)(t),3)))),128)),e.suggests.length?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("i",m,"没有匹配结果"))],512)])}var w=function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let k=class extends i.w3{constructor(...e){super(...e),(0,l.Z)(this,"suggests",void 0),(0,l.Z)(this,"selected",void 0)}adjustSelected(e){if(this.selected!==e)return!1;const t=this.$refs[`${e}`];if(!t||1!==t.length)return!0;const n=t[0],o=this.$refs.suggestDOM;let r=n.offsetTop-o.scrollTop,s=0;return r<s?(o.scrollTop-=s-r,!0):(r+=n.offsetHeight,s+=o.offsetHeight,r>s&&(o.scrollTop-=s-r),!0)}};k=w([(0,i.Ei)({props:{suggests:Array,selected:Number}})],k);var y=k,S=n(89);const O=(0,S.Z)(y,[["render",b],["__scopeId","data-v-e99750b4"]]);var x=O,j=n(6051),D=n.n(j);const _=/^(?:(http|https|ftp):\/\/)((?:[\w-]+\.)+[a-z0-9]+)((?:\/[^/?#]*)+)?(\?[^#]+)?(#.+)?$/i;function P(e,t){const n=`http://${e}`;let o=null;o=_.test(e)?e:t&&_.test(n)?n:`https://cn.bing.com/search?q=${e}`,o&&(window.location.href=o)}var C=function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let E=class extends i.w3{constructor(...e){super(...e),(0,l.Z)(this,"suggests",new Array),(0,l.Z)(this,"selected",-1),(0,l.Z)(this,"focused",!1)}mounted(){document.body.addEventListener("click",(e=>{if(!e.target)return;const t=e.target;if("search-input"!==t.id)t.classList.contains("suggest-item")&&P(t.innerHTML,!0),this.toggleSuggests(!1);else{const t=e.target;this.toggleSuggests(0!==t.value.length)}}))}directSearch(){const e=document.getElementById("search-input");e&&P(e.value,!1)}toggleSuggests(e){e?this.focused=!0:(this.focused=!1,this.selected=-1)}submitSearch(e){if(!e.target)return;const t=e.target;if(0!==t.value.length)switch(e.key){case"Enter":-1!==this.selected&&this.selected<this.suggests.length?P(this.suggests[this.selected],!0):P(t.value,!0);break;case"ArrowUp":this.suggests.length>0&&(this.selected-1<0?this.selected=this.suggests.length-1:--this.selected,t.value=this.suggests[this.selected]);break;case"ArrowDown":this.suggests.length>0&&(this.selected+1>=this.suggests.length?this.selected=0:++this.selected,t.value=this.suggests[this.selected]);break;default:break}}getSuggests(e){if(!e.target)return;const t=e.target;0!==t.value.length?D()(`https://api.bing.com/qsonhs.aspx?type=cb&q=${t.value}`,{jsonpCallback:"cb"}).then((e=>e.json())).then((e=>{const n=e.AS;if(this.suggests=[],this.selected=-1,n.FullResults){for(const e of n.Results)for(const t of e.Suggests)this.suggests.push(t.Txt);this.toggleSuggests(0!==t.value.length)}else console.log("空的搜索建议",e.AS)})):this.toggleSuggests(!1)}};E=C([(0,i.Ei)({components:{SuggestBox:x}})],E);var R=E;const B=(0,S.Z)(R,[["render",h],["__scopeId","data-v-04ac26ad"]]);var F=B;const Z={id:"favorite-box",class:"center"},T=["content","href","index"];function $(e,t,n,o,s,i){const a=(0,r.up)("SvgIcon"),c=(0,r.up)("BookmarkEdit");return(0,r.wg)(),(0,r.iD)("div",Z,[(0,r._)("nav",null,[(0,r.Wm)(a,{name:"PencilSquare",size:"30px",onClick:t[0]||(t[0]=t=>e.toggleMode("edit"))}),(0,r.Wm)(a,{name:"Trash",size:"30px",onClick:t[1]||(t[1]=t=>e.toggleMode("delete"))}),(0,r.Wm)(a,{name:"PlusSmall",size:"30px",onClick:e.enableBookmarkEdit},null,8,["onClick"])]),(0,r._)("ul",{ref:"favorite-list",style:(0,v.j5)({"--visible":"normal"!==e.mode?"block":"none"})},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.favoriteData,((t,n)=>((0,r.wg)(),(0,r.iD)("li",{content:e.content,key:n,href:t.url,index:n},(0,v.zw)(t.name),9,T)))),128))],4),e.bookmarkEdit?((0,r.wg)(),(0,r.j4)(c,{key:0,onBookmarkEdit:e.enableBookmarkEdit,onAddFavorite:e.addFavorite},null,8,["onBookmarkEdit","onAddFavorite"])):(0,r.kq)("",!0),(0,r._)("div",{onClick:t[2]||(t[2]=t=>e.$emit("toggleVisbility"))})])}const M=["xlink:href"];function A(e,t,n,o,s,i){return(0,r.wg)(),(0,r.iD)("svg",{class:(0,v.C_)(e.classList)},[(0,r._)("use",{"xlink:href":`#icon-${e.name}`,style:(0,v.j5)(e.styleDict)},null,12,M)],2)}var L=function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let N=class extends i.w3{constructor(...e){super(...e),(0,l.Z)(this,"name",void 0),(0,l.Z)(this,"size",void 0),(0,l.Z)(this,"className",void 0)}get styleDict(){return{with:this.size,height:this.size,color:"inherit"}}get classList(){return this.className?`${this.className} svg-icon`:"svg-icon"}};N=L([(0,i.Ei)({props:{name:String,size:{type:String,default:"20px"},className:String}})],N);var z=N;const I=(0,S.Z)(z,[["render",A],["__scopeId","data-v-60052532"]]);var H=I;const q=e=>((0,r.dD)("data-v-0e2c988a"),e=e(),(0,r.Cn)(),e),V={id:"config-box",class:"center",ref:"form"},W=q((()=>(0,r._)("div",null,[(0,r._)("span",null,"名称"),(0,r._)("input",{type:"text",name:"name"})],-1))),J=q((()=>(0,r._)("div",null,[(0,r._)("span",null,"链接"),(0,r._)("input",{type:"url",name:"url"})],-1)));function K(e,t,n,o,s,i){return(0,r.wg)(),(0,r.iD)("form",V,[W,J,(0,r._)("div",null,[(0,r._)("button",{type:"button",onClick:t[0]||(t[0]=(...t)=>e.cancelConfig&&e.cancelConfig(...t))},"取消"),(0,r._)("button",{type:"button",onClick:t[1]||(t[1]=(...t)=>e.confirmConfig&&e.confirmConfig(...t))},"确定")])],512)}var U=function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let Y=class extends i.w3{confirmConfig(){const e=new FormData(this.$refs.form),t=e.get("name"),n=e.get("url");t&&n&&this.$emit("addFavorite",{name:t,url:n}),this.$emit("bookmarkEdit",!1)}cancelConfig(){this.$emit("bookmarkEdit",!1)}};Y=U([(0,i.Ei)({})],Y);var G=Y;const Q=(0,S.Z)(G,[["render",K],["__scopeId","data-v-0e2c988a"]]);var X=Q,ee=function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let te=class extends i.w3{constructor(...e){super(...e),(0,l.Z)(this,"favoriteData",[{name:"网络学堂",url:"https://learn.tsinghua.edu.cn/f/login"},{name:"信息门户",url:"http://info.tsinghua.edu.cn/"}]),(0,l.Z)(this,"bookmarkEdit",!1),(0,l.Z)(this,"mode","normal")}enableBookmarkEdit(e){this.bookmarkEdit=e}toggleMode(e=this.mode){this.mode=this.mode===e?"normal":e}addFavorite(e){this.favoriteData.push(e),localStorage.bookmarks=JSON.stringify(this.favoriteData)}clearBookmarks(){this.favoriteData=[],localStorage.bookmarks=JSON.stringify(this.favoriteData)}get content(){return"delete"===this.mode?"-":"+"}mounted(){const e=localStorage.getItem("bookmarks");e?this.favoriteData=JSON.parse(e):localStorage.setItem("bookmarks",JSON.stringify(this.favoriteData));const t=this.$refs["favorite-list"];t.addEventListener("click",(e=>{if(e.target){const t=e.target;switch(this.mode){case"delete":{const e=t.getAttribute("index");if(!e)return;const n=Number(e);n>=0&&n<this.favoriteData.length&&(this.favoriteData.splice(n,1),localStorage.bookmarks=JSON.stringify(this.favoriteData));break}case"edit":break;case"normal":{const e=t.getAttribute("href");if(!e)return;window.location.href=e;break}}}}))}};te=ee([(0,i.Ei)({components:{SvgIcon:H,BookmarkEdit:X}})],te);var ne=te;const oe=(0,S.Z)(ne,[["render",$],["__scopeId","data-v-b69ca67c"]]);var re=oe,se=function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let ie=class extends i.w3{constructor(...e){super(...e),(0,l.Z)(this,"showFavorite",!1)}toggleFavrotite(){this.showFavorite=!this.showFavorite}};ie=se([(0,i.Ei)({components:{SearchBox:F,FavoriteBox:re}})],ie);var ae=ie;const ce=(0,S.Z)(ae,[["render",c],["__scopeId","data-v-5cbe0684"]]);var le=ce,ue=function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let de=class extends i.w3{};de=ue([(0,i.Ei)({components:{HomeView:le}})],de);var ge=de;const fe=(0,S.Z)(ge,[["render",s]]);var he=fe,ve=n(2483);const pe=[{path:"/",name:"home",component:le}],me=(0,ve.p7)({history:(0,ve.PO)(""),routes:pe});var be=me;n(8555);(0,o.ri)(he).use(be).mount("#app")},8555:function(e,t,n){"use strict";const o=e=>e.keys().map(e),r=n(3573);o(r)},3573:function(e,t,n){var o={"./PencilSquare.svg":6376,"./PlusSmall.svg":8652,"./Trash.svg":2412};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=s,e.exports=r,r.id=3573}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,s){if(!o){var i=1/0;for(u=0;u<e.length;u++){o=e[u][0],r=e[u][1],s=e[u][2];for(var a=!0,c=0;c<o.length;c++)(!1&s||i>=s)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(a=!1,s<i&&(i=s));if(a){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[o,r,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,s,i=o[0],a=o[1],c=o[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(c)var u=c(n)}for(t&&t(o);l<i.length;l++)s=i[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},o=self["webpackChunkvua"]=self["webpackChunkvua"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(2836)}));o=n.O(o)})();
//# sourceMappingURL=app.b2d2240e.js.map